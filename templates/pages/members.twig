{% extends "layout.twig" %}

{% block content %}
{{ include ('flash.twig') }}

    <div class="row">
    	<div id="memberlist-container" class="col-lg-6 mx-auto">
    	<h1><i class="fas fa-users"></i>Liste des membres</h1>
            <div id="memberlist">
                {% for members in memberslist %}
                <div class="memberlist-card">
                	{% if members.avatar_file == NULL %}
                	<img src="uploads/avatar/avatar_default.png" alt="{{ members.name }} avatar" height="60" width="60">
                	{% else %}
                	<img src="uploads/avatar/{{ members.name }}/{{ members.avatar_file }}" alt="{{ members.name }} avatar" height="60" width="60">
                	{% endif %}
        			<h4>{{ members.name }}</h4>
        			<p>Membre depuis {{ members.days_timestamp }} jours</p>
                  	<form id="addfriend{{ members.id }}"method="POST" action="addfriend">
                      	<input type="hidden" name="myId" value="{{ member }}" />
                      	<input type="hidden" name="memberId" value="{{ members.id }}"/>
                  	</form>
                  	<div class="addfriend-btn-wrapper">
                  		<button class="addfriend-btn" form="addfriend{{ members.id }}"><i class="fas fa-user-plus"></i></button>
                  	</div>
                </div>
			    {% endfor %}
            </div>
        	<div class="pagination-wrapper">
			    <nav aria-label="Page navigation example">
              		<ul class="pagination">
                		<li class="page-item {% if currentPage == 1 %}disabled{% endif %}"><a class="page-link" href="members?page={{ previousPage }}">Précédent</a></li>
                            {% for i in range(1, totalPages) %}
                			<li class="page-item {% if currentPage == i %}active{% endif %}"><a class="page-link" href="members?page={{ i }}">{{ i }}</a></li>
                            {% endfor %}
                		<li class="page-item {% if currentPage == totalPages %}disabled{% endif %}"><a class="page-link" href="members?page={{ nextPage }}">Suivant</a></li>
              		</ul>
        		</nav>
    		</div>
        </div>
    </div>

{% endblock %}